
pipeline {
    agent any
    stages {
        stage ("Git check out") {
            steps {
                git url: "https://github.com/Subhasis-ssdg/DevOpsClassCodes/"
            }
        }
        stage ("compile the code") {
            steps {
                sh "mvn compile"
            }
        }
        stage ("code test") {
            steps {
                sh "mvn test"
            }
        }
        stage ("code qa") {
            steps {
                sh "mvn pmd:pmd"
                recordIssues sourceCodeRetention: 'LAST_BUILD', tools: [pmdParser()]
            }
        }
        stage ("package creation") {
            steps {
                sh "mvn package"
            }
        }
    }
}
